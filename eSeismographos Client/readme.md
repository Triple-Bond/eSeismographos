# eSeismographos Client

Ο κώδικας για το πρόγραμμα eSeismogaphos Client, το οποίο χρησιμοποιείται για να συνδέσουμε τον σεισμογράφο με το διαδίκτυο και, στη συνέχεια, με την υπηρεσία μας, eSeismographos Admin. Η γλώσσα προγραμματισμού είναι η Python και χρησιμοποιεί τις βιβλιοθήκες [pyrebase](https://github.com/thisbejim/Pyrebase) και pyserial.

## Λειτουργία προγράμματος
Το πρόγραμμα "διαβάζει" τις μετρήσεις που στέλνει ο σεισμογράφος με το Arduino μέσω της σειριακής θύρας. Μπορείτε να κατασκευάσετε ανάλογο σεισμογράφο με το δικό μας και να χρησιμοποιήσετε το ίδιο κώδικα Arduino. Σε περίπτωση που θέλετε όμως να κατασκευάσετε δικό σας σεισμογράφο με άλλη κατασκευή και κώδικα, αλλά επιθυμείτε να χρησιμοποιήσετε αυτό το πρόγραμμα θα πρέπει να φροντίσετε ότι στέλντε μέσω μιας σειριακής θύρας μια μέτρηση κάθε 250ms. Δηλαδή το Arduino θα πρέπει να έχει κώδικα:

```c++
float val = seismographVal(); //Εδώ πέρα παίρνουμε τη μέτρηση
Serial.println(val);
delay(250);
```

όπου:

```c++
Serial.begin(9600); //Να ρυθμίσουμε το baud rate => 9600
```

## Διαδικασία Σύνδεσης
Παρακάτω φαίνεται πως το πρόγραμμα λειτουργεί, βέβαια τα στοιχεία δεν είναι αληθινά. 

Το πρόγραμμα στην αρχή ζητάει να εισάγουμε τα στοιχεία του λογαριασμού μας.

```c++
> Καλώς ήρθατε στο λογισμικό του eSeismographos.
> Εισάγετε το email σας: testemail@gmail.com
> Εισάγετε τον κωδικό σας: testpassword
> Επιτυχής σύνδεση.
```

Στη συνέχεια, αφού συνδεθεί, το πρόγραμμα δίνει μια λίστα με τους σεισμογράφους, αν υπάρχουν, που κατέχει ο χρήστης που συνδέθηκε και του δίνει τη δυνατότητα να επιλέξει τον σεισμογράφο. Σε περίπτωση, που ο σεισμογράφος που προσπαθεί να συνδέσει ο χρήστης, είχε συνδεθεί και στο παρελθόν, εμφανίζεται στη λίστα, αλλιώς υπάρχει η επιλογή δημιουργίας ενός νέου σεισμογράφου στο λογαριασμό.

```c++
> Επιλέξετε ποιον σεισμογράφο συνδέετε:
> 0. ΓΕΛ Σχηματαρίου
> 1. Δήμος Τανάγρας
> 2. Είναι νέος σεισμογράφος, που δεν τον έχω συνδέσει ακόμη.
> 0 // Επιλέγουμε ότι ήδη υπάρχει ο σεισμογράφος που προσπαθούμε να συνδέσουμε
```

(*) Ύστερα θα ζητηθεί να εισάγουμε τη θύρα όπου έχει συνδεθεί ο σεισμογράφος στον υπολογιστή.

```c++
> Επιλέξτε τη θύρα που συνδέσατε τον σεισμογράφο (εισάγετε τον αριθμό που βλέπετε στη αρχή):
> 0. COM3 - USB-SERIAL CH340 (COM3)
> 1. COM1 - Communications Port (COM1)
> 0 // Επιλέγουμε τη σειριακή θύρα COM3
```

Αν όλες οι διαδικασίες γίνουν σωστά, θα εμφανιστεί το μήνυμα:
```
> Ο σεισμογράφος λειτουργεί...
```

## Δημιουργία Νέου Σεισμογράφου
Αν επιλέξουμε να δημιουργήσουμε νέο σεισμογράφο (συνήθως γίνεται όταν πάμε να συνδέσουμε για πρώτη φορά τον σεισμογράφο με την υπηρεσία μας ή όταν συνδέουμε επιπλέον σεισμογράφους), εμφανίζεται το παρακάτω μήνυμα:

```
> Εγγραφή αυτού του σεισμογράφου
> Εισάγετε το όνομα του σεισμογράφου: test
> Θέλετε ο σεισμογράφος να είναι διαθέσιμος στους πολίτες; (Ναι ή Όχι) ναι
```
Αφού εισάγουμε το όνομα και το αν ο σεισμογράφος θα είναι διαθέσιμος ή όχι στους πολίτες, το πρόγραμμα πηγαίνει ξανά στο βήμα (*).
